"use strict";(self.webpackChunkWaldorfshop7=self.webpackChunkWaldorfshop7||[]).push([[269],{9326:function(e,t,i){function a(e){return t=>{if(t.$options.slotData=t.$options.slotData||{},!t.$options.slotData.hasOwnProperty(e)&&t.$slots.hasOwnProperty(e)){const i=t.$slots[e][0];i.elm?t.$options.slotData[e]=JSON.parse(i.elm.textContent):t.$options.slotData[e]=JSON.parse(i.text)}return t.$options.slotData[e]}}i.d(t,{X:function(){return a}})},2269:function(e,t,i){i.r(t),i.d(t,{default:function(){return g}});var a=function(){var e=this,t=e._self._c;return t("article",{staticClass:"cmp cmp-product-thumb",attrs:{"data-testing":e.item.variation.id}},[t("div",{class:e.paddingClasses,style:e.paddingInlineStyles},[t("add-to-basket",{attrs:{"data-testing":"item-add-to-basket","variation-id":e.item.variation.id,"is-salable":!!e.item.filter&&e.item.filter.isSalable,"has-children":!!e.item.item&&e.item.item.salableVariationCount>1,"interval-quantity":e.item.variation.intervalOrderQuantity||1,"minimum-quantity":e.item.variation.minimumOrderQuantity,"maximum-quantity":e.item.variation.maximumOrderQuantity&&e.item.variation.maximumOrderQuantity>0?e.item.variation.maximumOrderQuantity:null,"order-properties":e.item.properties.filter((function(e){return e.property.isOderProperty})),"has-order-properties":e.item.hasOrderProperties,"has-required-order-property":e.item.hasRequiredOrderProperty,"use-large-scale":!0,"show-quantity":!1,"item-url":e._f("itemURL")(e.item,e.urlWithVariationId),"has-price":e._f("hasItemDefaultPrice")(e.item),"has-graduated-price":e.itemGraduatedPriceisCheapestSorting||e.itemGraduatedPricesalableVariationCount,"item-type":e.item.item.itemType}}),e._v(" "),t("div",{staticClass:"thumb-image"},[t("div",{staticClass:"prop-1-1 cimage"},[e._t("item-image",(function(){return[t("category-image-carousel",{ref:"categoryImageCarousel",attrs:{"image-urls-data":e._f("itemImages")(e.item.images,e.imageUrlAccessor),alt:e._f("itemName")(e.item),title:e._f("itemName")(e.item),"item-url":e._f("itemURL")(e.item,e.urlWithVariationId),"enable-carousel":e.$ceres.config.item.enableImageCarousel,"disable-carousel-on-mobile":e.disableCarouselOnMobile}})]}))],2)]),e._v(" "),e._t("store-special",(function(){return[e.storeSpecial||"bundle"===e.item.variation.bundleType||"set"===e.item.item.itemType?t("item-store-special",{attrs:{"store-special":e.storeSpecial,"recommended-retail-price":e.item.prices.rrp,"variation-retail-price":e.item.prices.default,"special-offer-price":e.item.prices.specialOffer,"decimal-count":e.decimalCount,"bundle-type":e.item.variation.bundleType,"item-type":e.item.item.itemType}}):e._e()]})),e._v(" "),e._t("item-details",(function(){return[t("div",{staticClass:"thumb-content"},[t("a",{staticClass:"thumb-title small",class:{"stretched-link":0==e.$ceres.config.global.shippingCostsCategoryId},attrs:{href:e._f("itemURL")(e.item,e.urlWithVariationId)}},[e._v("\n                    "+e._s(e._f("itemName")(e.item))+"\n                    ")]),e._v(" "),e.isBook?e._e():t("div",{staticClass:"item-details__book-details"},[e.item.texts.name3?t("span",{staticClass:"item-details__subtitle"},[e._v("\n                        "+e._s(e.item.texts.name3)+"\n                    ")]):e._e(),e._v(" "),e.item.texts.name2?t("span",{staticClass:"item-details__author"},[e._v("\n                        "+e._s(e.item.texts.name2)+"\n                    ")]):e._e(),e._v(" "),e.item.texts.shortDescription?t("span",{staticClass:"item-details__short"},[e._v("\n                        "+e._s(e.item.texts.shortDescription)+"\n                    ")]):e._e(),e._v(" "),e.item.variation.availability?t("span",{class:"availability badge availability_"+e.item.variation.availability.id},[t("span",[e._v("\n                            "+e._s(e.item.variation.availability.names.name)+"\n                        ")])]):e._e()]),e._v(" "),t("div",{staticClass:"thumb-meta mt-2"},[e._t("before-prices"),e._v(" "),t("div",{staticClass:"prices"},[e.item.prices.rrp&&e.item.prices.rrp.price.value>0&&e.item.prices.rrp.price.value>e.item.prices.default.unitPrice.value?t("div",{staticClass:"price-view-port"},[e.item.prices.specialOffer?t("del",{staticClass:"crossprice"},[e._v("\n                                "+e._s(e._f("itemCrossPrice")(e.item.prices.default.unitPrice.formatted,!0))+"\n                            ")]):t("del",{staticClass:"crossprice"},[e._v("\n                                "+e._s(e._f("itemCrossPrice")(e.item.prices.rrp.unitPrice.formatted))+"\n                            ")])]):e._e(),e._v(" "),t("div",{staticClass:"price"},["set"===e.item.item.itemType?[e._v("\n                                "+e._s(e.$translate("Ceres::Template.itemSetPrice",{price:e.itemSetPrice}))+" "+e._s(e.$translate("Ceres::Template.itemFootnote"))+"\n                            ")]:e.itemGraduatedPriceisCheapestSorting||e.itemGraduatedPricesalableVariationCount?[e._v("\n                                "+e._s(e.$translate("Ceres::Template.itemFromPrice",{price:e.itemPriceGraduated}))+" "+e._s(e.$translate("Ceres::Template.itemFootnote"))+"\n                            ")]:[e._v("\n                                "+e._s(e._f("specialOffer")(e.item.prices.default.unitPrice.formatted,e.item.prices,"unitPrice","formatted"))+" "+e._s(e.$translate("Ceres::Template.itemFootnote"))+"\n                            ")]],2)])],2),e._v(" "),e._t("after-prices"),e._v(" "),e.item.prices.default.lowestPrice.value&&e.hasCrossPrice?t("div",{staticClass:"category-lowest-price small"},[t("span",{domProps:{innerHTML:e._s(e.$translate("Ceres::Template.itemLowestPrice",{price:e.item.prices.default.lowestPrice.formatted}))}})]):e._e(),e._v(" "),"C62"!==e.item.unit.unitOfMeasurement||1!==e.item.unit.content?t("div",{staticClass:"category-unit-price small"},[t("span",[e._v(e._s(e.item.unit.content))]),e._v(" "),t("span",[e._v(" "+e._s(e.item.unit.names.name))]),e._v(" "),e.item.variation.mayShowUnitPrice?t("span",[e._v(" | "+e._s(e.basePrice))]):e._e()]):e._e(),e._v(" "),t("div",{staticClass:"vat small text-muted"},[e._v("\n                    * "),e.showNetPrices?t("span",[e._v(e._s(e.$translate("Ceres::Template.itemExclVAT")))]):t("span",[e._v(e._s(e.$translate("Ceres::Template.itemInclVAT")))]),e._v("\n                    "+e._s(e.$translate("Ceres::Template.itemExclusive"))+"\n                    "),e.$ceres.config.global.shippingCostsCategoryId>0?t("a",{staticClass:"text-appearance",attrs:{"data-toggle":"modal",href:"#shippingscosts",title:e.$translate("Ceres::Template.itemShippingCosts")}},[e._v(e._s(e.$translate("Ceres::Template.itemShippingCosts")))]):t("a",{attrs:{title:e.$translate("Ceres::Template.itemShippingCosts")}},[e._v(e._s(e.$translate("Ceres::Template.itemShippingCosts")))])]),e._v(" "),e.isBook?t("div",{staticClass:"item-details__book-btn"},[t("button",{staticClass:"btn btn-primary btn-appearance item-details__showItem",attrs:{type:"button"},on:{click:function(t){return e.directToItem()}}},[e._v("\n                        "+e._s(e.$translate("Ceres::Template.itemShowItem"))+"\n                    ")])]):e._e()],2)]}))],2),e._v(" "),t("add-to-basket",{attrs:{"variation-id":e.item.variation.id,"is-salable":!!e.item.filter&&e.item.filter.isSalable,"has-children":!!e.item.item&&e.item.item.salableVariationCount>1,"interval-quantity":e.item.variation.intervalOrderQuantity||1,"minimum-quantity":e.item.variation.minimumOrderQuantity,"maximum-quantity":e.item.variation.maximumOrderQuantity&&e.item.variation.maximumOrderQuantity>0?e.item.variation.maximumOrderQuantity:null,"order-properties":e.item.properties.filter((function(e){return e.property.isOderProperty})),"has-order-properties":e.item.hasOrderProperties,"has-required-order-property":e.item.hasRequiredOrderProperty,"use-large-scale":!1,"show-quantity":!1,"item-url":e._f("itemURL")(e.item,e.urlWithVariationId),"has-price":e._f("hasItemDefaultPrice")(e.item),"has-graduated-price":e.itemGraduatedPriceisCheapestSorting||e.itemGraduatedPricesalableVariationCount,"item-type":e.item.item.itemType}})],1)};a._withStripped=!0,i(6280),i(4423),i(4114);var r=i(5353),s=function(){var e=this,t=e._self._c;return e.$data.$_enableCarousel?t("div",{staticClass:"carousel slide",attrs:{id:"carousel"+e._uid,"aria-label":e.$translate("Ceres::Template.itemImageCarousel"),role:"listbox","data-interval":"false"}},[e.showDots?t("ol",{staticClass:"carousel-indicators"},e._l(e.imageUrls,(function(i,a){return t("li",{class:{active:0===a},attrs:{"data-target":"#carousel"+e._uid,"data-slide-to":a}})})),0):e._e(),e._v(" "),t("div",{staticClass:"carousel-inner"},e._l(e.imageUrls,(function(i,a){return t("div",{key:a,staticClass:"carousel-item",class:{active:0===a}},[t("a",{attrs:{href:e.itemUrl,title:e.getTitleText(i)}},[0===a&&e.disableLazyLoad?t("img",{staticClass:"img-fluid",attrs:{src:i.url+".avif",alt:e.getAltText(i),width:e.getImageWidth(i),height:e.getImageHeight(i),fetchpriority:"high",role:"option"}}):t("img",{staticClass:"img-fluid",attrs:{src:i.url+".avif",alt:e.getAltText(i),width:e.getImageWidth(i),height:e.getImageHeight(i),decoding:"async",loading:"lazy",role:"option"}})])])})),0),e._v(" "),e.showNav?t("a",{staticClass:"carousel-control-prev",attrs:{href:"#carousel"+e._uid,role:"button","data-slide":"prev"}},[t("span",{staticClass:"carousel-control-prev-icon",attrs:{"aria-hidden":"true"}}),e._v(" "),t("span",{staticClass:"sr-only"},[e._v("Previous")])]):e._e(),e._v(" "),e.showNav?t("a",{staticClass:"carousel-control-next",attrs:{href:"#carousel"+e._uid,role:"button","data-slide":"next"}},[t("span",{staticClass:"carousel-control-next-icon",attrs:{"aria-hidden":"true"}}),e._v(" "),t("span",{staticClass:"sr-only"},[e._v("Next")])]):e._e()]):t("a",{attrs:{href:e.itemUrl,title:e.getTitleText(e.imageUrls[0])}},[0===e.index&&e.disableLazyLoad?t("img",{staticClass:"img-fluid",attrs:{src:e.imageOrItemImage+".avif",alt:e.getAltText(e.imageUrls[0]),width:e.getImageWidth(e.imageUrls[0]),height:e.getImageHeight(e.imageUrls[0]),fetchpriority:"high"}}):t("img",{staticClass:"img-fluid",attrs:{src:e.imageOrItemImage+".avif",alt:e.getAltText(e.imageUrls[0]),width:e.getImageWidth(e.imageUrls[0]),height:e.getImageHeight(e.imageUrls[0]),decoding:"async",loading:"lazy"}})])};s._withStripped=!0;var l={name:"category-image-carousel",props:{imageUrlsData:{type:Array},itemUrl:{type:String},alt:{type:String},title:{type:String},showDots:{type:Boolean,default:App.config.item.categoryShowDots},showNav:{type:Boolean,default:App.config.item.categoryShowNav},disableLazyLoad:{type:Boolean,default:!1},disableCarouselOnMobile:{type:Boolean},enableCarousel:{type:Boolean},template:{type:String}},data(){return{$_enableCarousel:!1}},computed:{imageUrls(){return this.imageUrlsData},imageOrItemImage(){return this.imageUrls.length?this.imageUrls[0].url:this.itemImage}},mounted(){const e=window.matchMedia("(max-width: 768px)").matches,t=this.enableCarousel&&this.imageUrls.length>1;this.$data.$_enableCarousel=(!this.disableCarouselOnMobile||!e)&&t},methods:{getAltText(e){return e&&e.alternate?e.alternate:this.alt},getTitleText(e){return e&&e.name?e.name:this.title},getImageWidth(e){return e&&e.width?e.width:void 0},getImageHeight(e){return e&&e.height?e.height:void 0}}},n=i(4486),o=(0,n.A)(l,s,[],!1,null,null,null).exports,m=i(17),c=i(9326);function u(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,a)}return i}function p(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var d={components:{CategoryImageCarousel:o,ItemStoreSpecial:m.A},props:{decimalCount:{type:Number,default:0},imageUrlAccessor:{type:String,default:"urlMiddle"},itemData:{type:Object},disableCarouselOnMobile:{type:Boolean},paddingClasses:{type:String,default:null},paddingInlineStyles:{type:String,default:null},forceUrlWithVariationId:{type:Boolean,default:!1}},jsonDataFields:["itemDataRef"],computed:function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?u(Object(i),!0).forEach((function(t){p(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):u(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({item(){return this.itemData||this.itemSlotData||this.itemDataRef},itemSlotData:(0,c.X)("item-data"),isBook(){return null!=this.$store.state.navigation.currentCategory&&[].includes(this.$store.state.navigation.currentCategory.id)},storeSpecial(){return this.item.item.storeSpecial},texts(){return this.item.texts},itemPrice(){return this.$options.filters.specialOffer(this.item.prices.default.unitPrice.formatted,this.item.prices,"unitPrice","formatted")},basePrice(){return this.item.prices.default.basePrice},itemPriceGraduated(){let e;return e=App.config.item.enableGraduatedPrices&&this.item.prices.graduatedPrices.length>0?this.item.prices.graduatedPrices[0].unitPrice:this.item.prices.default.unitPrice,this.$options.filters.specialOffer(e.formatted,this.item.prices,"unitPrice","formatted")},itemGraduatedPriceisCheapestSorting(){return!!this.item.item&&this.item.item.salableVariationCount>1&&!!this.$ceres.isCheapestSorting},itemGraduatedPricesalableVariationCount(){return!!this.item.item&&1==this.item.item.salableVariationCount&&this.item.prices.graduatedPrices.length>1&&App.config.item.enableGraduatedPrices},itemSetPrice(){return this.$options.filters.currency(this.item.prices.default.price.value,this.item.prices.default.currency)},urlWithVariationId(){return!this.$ceres.config.item.showPleaseSelect||0==this.$ceres.initialPleaseSelect||this.forceUrlWithVariationId},hasCrossPrice(){const e=!!this.item.prices.rrp&&this.item.prices.rrp.unitPrice.value>this.item.prices.default.unitPrice.value,t=!!this.item.prices.specialOffer&&!!this.item.prices.default&&this.item.prices.default.unitPrice.value>this.item.prices.specialOffer.unitPrice.value;return e||t}},(0,r.aH)({showNetPrices:e=>e.basket.showNetPrices}))},h=d,g=(0,n.A)(h,a,[],!1,null,null,null).exports},17:function(e,t,i){i.d(t,{A:function(){return l}});var a=function(){var e=this,t=e._self._c;return e.hasLabel||e.isBundle||e.isSet?t("div",{staticClass:"special-tags p-2"},[e.hasLabel?t("span",{staticClass:"badge",class:e.tagClass},[e._v("\n        "+e._s(e.label)+"\n    ")]):e.isBundle?t("span",{class:e.tagClasses.itemBundle},[e._v("\n        "+e._s(e.$translate("Ceres::Template.itemBundle"))+"\n    ")]):e.isSet?t("span",{class:e.tagClasses.itemSet},[e._v("\n        "+e._s(e.$translate("Ceres::Template.itemSet"))+"\n    ")]):e._e()]):e._e()};a._withStripped=!0,i(9868),i(7495),i(5440);var r=i(1900),s={name:"item-store-special",props:["storeSpecial","recommendedRetailPrice","variationRetailPrice","specialOfferPrice","decimalCount","bundleType","itemType"],data(){return{tagClass:"",label:"",tagClasses:{1:"badge-offer badge-danger",2:"badge-new badge-primary",3:"badge-top badge-success",default:"badge-success",itemBundle:"badge badge-bundle bg-info",itemSet:"badge badge-dark"},labels:{1:this.$translate("Ceres::Template.storeSpecialOffer"),2:this.$translate("Ceres::Template.storeSpecialNew"),3:this.$translate("Ceres::Template.storeSpecialTop")}}},computed:{hasLabel(){return this.label&&""!==this.label},isBundle(){return"bundle"===this.bundleType},isSet(){return"set"===this.itemType}},created(){this.initializeStoreSpecial()},methods:{initializeStoreSpecial(){(0,r.hX)(this.storeSpecial)?this.tagClass=this.tagClasses.default:this.tagClass=this.tagClasses[this.storeSpecial.id]||this.tagClasses.default,this.label=this.getLabel()},getLabel(){return(0,r.hX)(this.storeSpecial)||1!==this.storeSpecial.id||(0,r.hX)(this.recommendedRetailPrice)?(0,r.hX)(this.storeSpecial)?"":this.labels[this.storeSpecial.id]||this.storeSpecial.names.name:this.getPercentageSale()},getPercentageSale(){let e;return e=(0,r.O9)(this.specialOfferPrice)?-100*(1-this.specialOfferPrice.unitPrice.value/this.variationRetailPrice.unitPrice.value):-100*(1-this.variationRetailPrice.unitPrice.value/this.recommendedRetailPrice.unitPrice.value),e<0?e.toFixed(this.decimalCount).replace(".",App.decimalSeparator)+"%":""}},watch:{storeSpecial(){this.initializeStoreSpecial()}}},l=(0,i(4486).A)(s,a,[],!1,null,null,null).exports}}]);
//# sourceMappingURL=ceres-269.min.js.map