"use strict";(self.webpackChunkWaldorfshop7=self.webpackChunkWaldorfshop7||[]).push([[577],{6577:function(e,t,l){l.r(t),l.d(t,{default:function(){return a}}),l(2762);var i=function(){var e=this,t=e._self._c;return t("label",{directives:[{name:"tooltip",rawName:"v-tooltip"}],ref:"inputUnit",staticClass:"input-unit file-input",attrs:{"data-toggle":"tooltip",title:e.selectedFiles}},[t("label",{attrs:{for:e.formFieldId}},[e._v("\n        "+e._s(e.label)),e.isRequired?t("span",[e._v("*")]):e._e()]),e._v(" "),t("span",{staticClass:"input-unit-preview",class:{disabled:!!e.selectedFiles},attrs:{"data-testing":"form-attachment-file-name"}},[e._v("\n        "+e._s(e.selectedFiles)+"\n    ")]),e._v(" "),e.selectedFiles?t("span",{staticClass:"input-unit-btn",attrs:{"data-testing":"remove-attached-file"},on:{click:function(t){return t.preventDefault(),e.clearSelectedFiles()}}},[t("i",{staticClass:"fa fa-times"})]):t("span",{staticClass:"input-unit-btn"},[t("i",{staticClass:"fa fa-ellipsis-h"})]),e._v(" "),t("input",{ref:"fileInput",attrs:{type:"file",multiple:e.allowMultiple,name:e.formFieldId,id:e.formFieldId,disabled:0===e.allowedFileExtensions.trim().length||!!e.selectedFiles,accept:e.allowedFileExtensions,"data-testing":"form-attachment-input"},on:{change:e.collectFiles}})])};i._withStripped=!0;var s={name:"form-attachment",data(){return{selectedFiles:""}},props:{allowMultiple:Boolean,allowedFileExtensions:String,isRequired:Boolean,formFieldId:String,label:String},mounted(){this.$nextTick((()=>{this.isRequired&&this.$refs.inputUnit.setAttribute("data-validate","file")}))},methods:{collectFiles(e){const t=e.target.files;this.selectedFiles=Array.from(t).map((e=>e.name)).join(", "),this.$emit("files-changed",t)},clearSelectedFiles(){this.selectedFiles=null,this.$refs.fileInput.value=""}}},a=(0,l(4486).A)(s,i,[],!1,null,null,null).exports}}]);
//# sourceMappingURL=ceres-client-577.min.js.map