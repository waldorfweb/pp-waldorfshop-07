"use strict";(self.webpackChunkWaldorfshop7=self.webpackChunkWaldorfshop7||[]).push([[374],{9374:function(t,e,r){r.r(e),r.d(e,{default:function(){return c}});var s=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"add-item-to-basket-overlay"}},[e("div",{staticClass:"modal fade"},[e("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[t.basketItem?e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("div",{staticClass:"modal-title h5"},[t._v(t._s(t.$translate("Ceres::Template.singleItemAdded")))]),t._v(" "),t._m(0),t._v(" "),e("button",{staticClass:"close ml-0 pl-1",attrs:{type:"button","data-dismiss":"modal","aria-label":t.$translate("Ceres::Template.closeIcon")}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("Ã—")])])]),t._v(" "),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"row is-table-row"},[e("div",{staticClass:"col-md-4",staticStyle:{"min-height":"80px"}},[e("lazy-img",{style:{maxHeight:"140px"},attrs:{"image-url":t.imageUrl,alt:t.imageAlternativeText||t.itemName,title:t.itemName,"picture-class":"img-fluid mx-auto"}})],1),t._v(" "),e("div",{staticClass:"col-md-8"},[e("p",[e("strong",[t._v(t._s(t.itemName))]),t._v(" "),e("br"),t._v(" "),t.countAdditionalBasketItems>0?e("span",[t._v(t._s(t.$translate("Ceres::Template.basketItemOverlayAdditionalCount",{count:t.countAdditionalBasketItems})))]):t._e()]),t._v(" "),e("p",{staticClass:"small"},[e("strong",[e("span",{staticClass:"text-muted"},[t._v(t._s(t.basketItem.quantity)+" x ")]),t._v(" "),e("span",[t._v(t._s(t._f("currency")(t.price)))])])]),t._v(" "),t._l(t.variation.attributes,(function(r){return e("p",{staticClass:"small"},[e("strong",[t._v(t._s(r.attribute.names.name))]),t._v(":\n                                "),e("span",[t._v(t._s(r.value.names.name))])])})),t._v(" "),e("order-property-value-list",{attrs:{"basket-item":t.basketItem}})],2)])]),t._v(" "),e("div",{staticClass:"modal-footer"},[e("a",{directives:[{name:"waiting-animation-infinite",rawName:"v-waiting-animation-infinite"}],staticClass:"btn btn-outline-primary btn-medium mr-2",attrs:{href:t.urls.basket,rel:"nofollow"}},[e("i",{staticClass:"fa fa-shopping-cart",attrs:{"aria-hidden":"true"}}),t._v("\n                        "+t._s(t.$translate("Ceres::Template.singleItemBasket"))+"\n                    ")]),t._v(" "),e("a",{directives:[{name:"waiting-animation-infinite",rawName:"v-waiting-animation-infinite"}],staticClass:"btn btn-primary btn-medium",attrs:{href:t.urls.checkout,rel:"nofollow"}},[e("i",{staticClass:"fa fa-arrow-right",attrs:{"aria-hidden":"true"}}),t._v("\n                        "+t._s(t.$translate("Ceres::Template.singleItemCheckout"))+"\n                    ")])]),t._v(" "),t._t("extendOverlayButtons")],2):t._e()])])])};s._withStripped=!0,r(6280),r(4114);var a=r(1900),i=r(5353),n=r(8987);function o(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function l(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?o(Object(r),!0).forEach((function(e){p(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function p(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var s=r.call(t,"string");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const u=r(2280),m=r(8115);var d={name:"add-item-to-basket-overlay",components:{OrderPropertyValueList:n.A},props:{defaultTimeToClose:{type:Number,default:15}},data(){return{price:0,basketItem:null,countAdditionalBasketItems:0}},mounted(){"overlay"===App.config.basket.addItemToBasketConfirm&&(m.listen("AfterBasketItemUpdate",(t=>{const e=t.basketItems[0];if(!this.isBasketItemQuantityUpdate){const t=this.basketItems.find((t=>t.id===e.id))||{};this.showItem(t)}})),m.listen("AfterBasketItemAdd",(t=>{this.showItem(t.basketItems[0],t.basketItems.length-1)})))},computed:l(l({},(0,i.aH)({basketItems:t=>t.basket.items,isBasketItemQuantityUpdate:t=>t.basket.isBasketItemQuantityUpdate})),{},{isLastBasketEntrySet(){return!(0,a.hX)(this.basketItem)},variation(){return this.basketItem&&this.basketItem.variation?this.basketItem.variation.data:null},itemName(){return this.isLastBasketEntrySet?this.$options.filters.itemName(this.variation):""},imageUrl(){if(this.isLastBasketEntrySet){const t=this.$options.filters.itemImages(this.variation.images,"urlPreview");return this.$options.filters.itemImage(t)}return""},imageAlternativeText(){if(this.isLastBasketEntrySet){const t=this.$options.filters.itemImages(this.variation.images,"urlPreview");return this.$options.filters.itemImageAlternativeText(t)}return""},urls(){return{basket:App.urls.basket,checkout:App.urls.checkout}}}),methods:{showItem(t,e){this.basketItem=t,this.countAdditionalBasketItems=e,this.price=t.price,u.findModal(document.getElementById("add-item-to-basket-overlay")).setTimeout(1e3*this.defaultTimeToClose).show()}}},c=(0,r(4486).A)(d,s,[function(){var t=this._self._c;return t("span",{staticClass:"text-muted ml-auto"},[t("span",{staticClass:"timer"}),this._v("s")])}],!1,null,null,null).exports},8987:function(t,e,r){r.d(e,{A:function(){return u}});var s=function(){var t=this,e=t._self._c;return t.shownProperties&&t.shownProperties.length?e("div",{staticClass:"small"},[e("div",{staticClass:"font-weight-bold my-1"},[t._v(t._s(t.$translate("Ceres::Template.basketAdditionalCosts"))+":")]),t._v(" "),e("ul",{staticClass:"ml-1 pl-3",attrs:{"data-testing":"order-property-list"}},t._l(t.shownProperties,(function(t){return e("order-property-value-list-item",{key:t.propertyId,attrs:{property:t}})})),1)]):t._e()};s._withStripped=!0,r(4114),r(8940);var a=r(1900),i=function(){var t=this,e=t._self._c;return e("li",[e("span",{staticClass:"d-block"},[e("strong",{class:{colon:t.showColon}},[t._v("\n            "+t._s(t.property.property.names.name)+" \n            "),t.surcharge>0?[t.isAdditionalCost||t.isTaxless?[t._v("\n                    ("+t._s(t.$translate("Ceres::Template.basketPlusAbbr"))+" "+t._s(t._f("currency")(t.surcharge))+")\n                ")]:[t._v("\n                    ("+t._s(t.$translate("Ceres::Template.basketIncludeAbbr"))+" "+t._s(t._f("currency")(t.surcharge))+")\n                ")]]:t._e()],2),t._v(" "),e("span",["file"===t.property.property.valueType?e("span",[e("a",{attrs:{href:t._f("fileUploadPath")(t.property.property.value),target:"_blank"}},[e("i",{staticClass:"fa fa-external-link",attrs:{"aria-hidden":"true"}}),t._v("\n                    "+t._s(t._f("fileName")(t.property.property.value))+"\n                ")])]):"empty"!==t.property.property.valueType?e("span",[t._v(t._s(t.property.property.value))]):t._e()])])])};i._withStripped=!0;var n=r(8579),o={name:"order-property-value-list-item",props:{property:{required:!0,type:Object}},computed:{surcharge(){return this.$options.filters.propertySurcharge([this.property],this.property.propertyId)},isAdditionalCost(){return(0,n.wI)(this.property)},isTaxless(){return!(0,n.ml)(this.property)&&App.useVariationOrderProperties},showColon(){return this.property&&this.property.property.value&&"empty"!==this.property.property.valueType}}},l=r(4486),p={name:"order-property-value-list",components:{OrderPropertyValueListItem:(0,l.A)(o,i,[],!1,null,null,null).exports},props:{basketItem:{required:!0,type:Object}},computed:{shownProperties(){const t=[];return this.basketItem.variation.data.properties.forEach((e=>{const r=this.basketItem.basketItemOrderParams.find((t=>parseInt(t.propertyId)===e.propertyId));(0,a.O9)(r)&&("selection"===r.type?e.property.value=e.property.selectionValues[r.value].name:e.property.value=r.value),((0,a.O9)(r)||this.isPropertyWithAdditionalCosts(e))&&t.push(e)})),t}},methods:{isPropertyWithAdditionalCosts(t){return t.property&&t.property.isShownAtCheckout&&t.property.isShownAsAdditionalCosts&&!t.property.isOderProperty}}},u=(0,l.A)(p,s,[],!1,null,null,null).exports}}]);
//# sourceMappingURL=ceres-374.min.js.map