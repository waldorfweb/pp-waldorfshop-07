"use strict";(self.webpackChunkWaldorfshop7=self.webpackChunkWaldorfshop7||[]).push([[35],{1035:function(t,e,a){a.r(e),a.d(e,{default:function(){return f}});var i=function(){var t=this,e=t._self._c;return e("div",[e("div",[!t.basketItems.length>0?e("div",[e("div",{staticClass:"h5 py-3"},[t._v(t._s(t.$translate("Ceres::Template.basketNoItems")))])]):t._e(),t._v(" "),e("transition-group",{attrs:{name:"list-transition",tag:"div"}},[t._l(t.basketItems,(function(a){return[e("basket-list-item",{key:a.id,attrs:{"basket-item":a,"is-preview":t.isPreview,"basket-details-data":t.basketDetailsData},scopedSlots:t._u([{key:"before-basket-item",fn:function(){return[t._t("before-basket-item")]},proxy:!0},{key:"after-basket-item",fn:function(){return[t._t("after-basket-item")]},proxy:!0}],null,!0)})]}))],2)],1),t._v(" "),t.isBasketInitiallyLoaded?t._e():e("loading-animation",{staticClass:"d-table w-100"})],1)};i._withStripped=!0;var s=a(5353),r=(a(9463),a(3792),a(2953),function(){var t=this,e=t._self._c;return e("div",{staticClass:"basket-list-item py-3"},[t._t("before-basket-item"),t._v(" "),e("div",{staticClass:"basket-item component-loading with-icon d-flex",class:{"sending is-loading":t.waiting,"is-loading":t.isCheckoutReadonly}},[e("div",{staticClass:"image-container"},[e("a",{attrs:{href:t._f("itemURL")(t.basketItem.variation.data)}},[t.image?e("lazy-img",{attrs:{"image-url":t.image,alt:t.altText,title:t.itemName,height:t.height,width:t.width,"picture-class":"d-block mw-100 mh-100 h-auto","data-testing":"basket-item-img"}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"meta-container-wrapper"},[e("div",{staticClass:"meta-container-wrapper-inner"},[e("div",{staticClass:"meta-container"},[e("div",{staticClass:"position-relative w-100"},[e("a",{staticClass:"item-name text-primary text-appearance small font-weight-bold text-break",attrs:{href:t._f("itemURL")(t.basketItem.variation.data),"data-testing":"basket-item-name"}},[t._v("\n                            "+t._s(t._f("itemName")(t.basketItem.variation.data))+"\n                        ")]),t._v(" "),e("div",{staticClass:"item-base-price small"},[t._v("\n                            "+t._s(t._f("currency")(t.unitPrice))+"\n                        ")]),t._v(" "),e("item-bundle",{attrs:{"bundle-type":t.basketItem.variation.data.variation.bundleType,"bundle-components":t.basketItem.variation.data.bundleComponents}}),t._v(" "),"C62"===t.basketItem.variation.data.unit.unitOfMeasurement&&1===t.basketItem.variation.data.unit.content||!t.basketItem.variation.data.variation.mayShowUnitPrice?t._e():e("div",{staticClass:"text-muted small"},[e("div",[t._v("\n                                "+t._s(t.basePrice)+"\n                            ")]),t._v(" "),e("div",[e("strong",[t._v(t._s(t.$translate("Ceres::Template.basketContent"))+": ")]),t._v("\n                                "+t._s(t.basketItem.variation.data.unit.content)+" "+t._s(t.basketItem.variation.data.unit.names.name)+"\n                            ")])]),t._v(" "),t.basketItem.inputLength>0||t.basketItem.inputWidth>0?e("div",{staticClass:"small"},[e("div",[e("strong",[t._v(t._s(t.$translate("Ceres::Template.itemInput"))+" "+t._s(t._f("inputUnit")(t.basketItem,!0))+": ")]),t._v("\n                                "+t._s(t._f("inputUnit")(t.basketItem))+"\n                            ")])]):t._e(),t._v(" "),e("div",{staticClass:"small"},t._l(t.basketItem.variation.data.attributes,(function(a){return e("div",[e("strong",[t._v(t._s(a.attribute.names.name)+": ")]),t._v(" "),e("span",[t._v(t._s(a.value.names.name))])])})),0),t._v(" "),e("div",{staticClass:"text-muted small"},[t._l(t.basketItem.variation.data.variationProperties,(function(a){return t._l(a.properties,(function(i){return e("div",[a.name?e("strong",[t._v(t._s(a.name)+": ")]):t._e(),t._v(" "),e("span",[t._v(t._s(i.names.name))]),t._v(" "),"file"===i.cast?e("span",[e("a",{attrs:{href:t._f("propertyFileUrl")(i.values.value),target:"_blank"},domProps:{innerHTML:t._s(i.values.value)}})]):"multiSelection"===i.cast&&void 0!==i.values[0]?[e("ul",{staticClass:"pl-3"},t._l(i.values,(function(a){return e("li",[t._v(t._s(a.value))])})),0)]:e("span",{domProps:{innerHTML:t._s(i.values.value)}})],2)}))}))],2)],1)]),t._v(" "),e("div",{staticClass:"basket-item-container-right"},[e("div",{staticClass:"qty-box-container"},[e("quantity-input",{attrs:{value:t.basketItem.quantity,waiting:t.isInputLocked||t.isCheckoutReadonly,min:t.basketItem.variation.data.variation.minimumOrderQuantity,max:t.basketItem.variation.data.variation.maximumOrderQuantity,interval:t.basketItem.variation.data.variation.intervalOrderQuantity},on:{"quantity-change":t.updateQuantity}})],1),t._v(" "),e("div",{staticClass:"price-box text-right ml-2 mt-1"},[e("div",{staticClass:"item-total-price font-weight-bold text-nowrap"},[t._v(t._s(t._f("currency")(t.basketItem.quantity*t.unitPrice,t.basketItem.variation.data.prices.default.currency)))]),t._v(" "),e("button",{staticClass:"btn btn-sm text-danger p-0",class:{disabled:t.waiting||t.isBasketLoading||t.isCheckoutReadonly||t.waitingForDelete},attrs:{"data-testing":"basket-item-delete"},on:{click:t.deleteItem}},[t._v("\n                            "+t._s(t.$translate("Ceres::Template.basketDelete"))+"\n                            "),e("icon",{staticClass:"default-float",attrs:{icon:"trash-o",loading:t.waitingForDelete}})],1)])])]),t._v(" "),t.basketItem.setComponents?e("basket-set-component-list",{attrs:{"set-components":t.basketItem.setComponents,"set-item":t.basketItem}}):t._e(),t._v(" "),e("order-property-value-list",{attrs:{"basket-item":t.basketItem}}),t._v(" "),t.showMoreInformation?e("div",{staticClass:"small"},[t.isDataFieldVisible("basket.item.item_id")&&t.basketItem.variation.data.item.id?[e("div",{staticClass:"mt-3"},[e("strong",[t._v(t._s(t.$translate("Ceres::Template.basketItemId"))+":")]),t._v(" "),e("span",[t._v(t._s(t.basketItem.variation.data.item.id))])])]:t._e(),t._v(" "),t.isDataFieldVisible("basket.item.customNumber")?[t.basketItem.variation.data.variation.number?e("div",[e("strong",[t._v(t._s(t.$translate("Ceres::Template.basketItemNumber"))+":")]),t._v(" "),e("span",[t._v(t._s(t.basketItem.variation.data.variation.number))])]):t._e()]:t._e(),t._v(" "),t.isDataFieldVisible("basket.item.availability")?[t.basketItem.variation.data.variation.availability&&t.basketItem.variation.data.variation.availability.names.name?e("div",[e("strong",[t._v(t._s(t.$translate("Ceres::Template.basketAvailability"))+":")]),t._v(" "),e("span",[t._v(t._s(t.basketItem.variation.data.variation.availability.names.name))])]):t._e()]:t._e(),t._v(" "),t.isDataFieldVisible("basket.item.description_long")?[t.basketItem.variation.data.texts.description?e("p",{staticClass:"my-3",domProps:{innerHTML:t._s(t.basketItem.variation.data.texts.description)}}):t._e()]:t._e(),t._v(" "),t.isDataFieldVisible("basket.item.description_short")?[t.basketItem.variation.data.texts.shortDescription?e("p",{staticClass:"my-3",domProps:{innerHTML:t._s(t.basketItem.variation.data.texts.shortDescription)}}):t._e()]:t._e()],2):t._e(),t._v(" "),t.isMoreButtonVisible?e("label",{staticClass:"btn-collapse",class:{collapsed:!t.showMoreInformation},attrs:{"data-show-more":t.$translate("Ceres::Template.basketShowMore"),"data-show-less":t.$translate("Ceres::Template.basketShowLess")},on:{click:function(e){t.showMoreInformation=!t.showMoreInformation}}}):t._e()],1)]),t._v(" "),t._t("after-basket-item")],2)});r._withStripped=!0,a(6280),a(4423),a(4114),a(2712),a(8781),a(1699);var n=a(627),o=a(4102),l=a(1900),m=function(){var t=this,e=t._self._c;return t.setComponents.length>0?e("div",{staticClass:"set-data small"},[e("div",{staticClass:"mb-2"},[e("strong",[t._v(t._s(t.$translate("Ceres::Template.itemSetContent")))])]),t._v(" "),t._l(t.setComponents,(function(a){return[e("set-component-item",{attrs:{variation:a.variation.data,quantity:a.quantity,"order-properties":a.basketItemOrderParams,rebate:t.setItem.variation.data.item.rebate}})]}))],2):t._e()};m._withStripped=!0;var p={name:"basket-set-component-list",components:{SetComponentItem:a(1289).A},props:{setComponents:{type:Array,default:()=>[]},setItem:Object}},d=a(4486),u=(0,d.A)(p,m,[],!1,null,null,null).exports,v=a(8987);function c(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function b(t,e,a){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var a=t[Symbol.toPrimitive];if(void 0!==a){var i=a.call(t,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}const h=a(7472);var _={name:"basket-list-item",components:{BasketSetComponentList:u,OrderPropertyValueList:v.A},props:{template:{type:String,default:"#vue-basket-list-item"},basketItem:Object,basketDetailsData:{type:Array,default:()=>[]},isPreview:{type:Boolean,default:!1}},data(){return{waiting:!1,waitingForDelete:!1,itemCondition:"",showMoreInformation:!1}},computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?c(Object(a),!0).forEach((function(e){b(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({image(){const t=this.$options.filters.itemImages(this.basketItem.variation.data.images,"urlPreview");return this.$options.filters.itemImage(t)},width(){const t=this.$options.filters.itemImages(this.basketItem.variation.data.images,"urlPreview");return this.$options.filters.itemImageWidth(t)},height(){const t=this.$options.filters.itemImages(this.basketItem.variation.data.images,"urlPreview");return this.$options.filters.itemImageHeight(t)},altText(){const t=this.$options.filters.itemImages(this.basketItem.variation.data.images,"urlPreview");return this.$options.filters.itemImageAlternativeText(t)||this.itemName},itemName(){return this.$options.filters.itemName(this.basketItem.variation.data)},isInputLocked(){return this.waiting||this.isBasketLoading},propertySurchargeSum(){let t=0;for(const e of this.basketItem.basketItemOrderParams)t+=this.$options.filters.propertySurcharge(this.basketItem.variation.data.properties,e.propertyId);return t},unitPrice(){let t=0;return(0,l.O9)(this.basketItem.setComponents)&&(t=this.basketItem.setComponents.map((t=>t.quantity*t.attributeTotalMarkup)).reduce(((t,e)=>t+e),0)),this.basketItem.price+t},basePrice(){if(!(0,l.hX)(this.basketItem.updatedBasePrice))return this.basketItem.updatedBasePrice;if(!(0,l.hX)(this.basketItem.variation.data.prices.specialOffer))return this.basketItem.variation.data.prices.specialOffer.basePrice;if(!(0,l.hX)(this.basketItem.variation.data.prices.graduatedPrices)){let t=null;if(this.basketItem.variation.data.prices.graduatedPrices.forEach((e=>{((0,l.hX)(t)&&this.basketItem.quantity>=e.minimumOrderQuantity||this.basketItem.quantity>=e.minimumOrderQuantity&&e.minimumOrderQuantity>=t.minimumOrderQuantity)&&(t=e)})),!(0,l.hX)(t))return t.basePrice}return this.basketItem.variation.data.prices.default.basePrice},isMoreButtonVisible(){return this.isDataFieldVisible("basket.item.item_id")&&this.basketItem.variation.data.item.id||this.isDataFieldVisible("basket.item.customNumber")&&this.basketItem.variation.data.variation.number||this.isDataFieldVisible("basket.item.availability")&&this.basketItem.variation.data.variation.availability.names.name||this.isDataFieldVisible("basket.item.description_long")&&this.basketItem.variation.data.texts.description||this.isDataFieldVisible("basket.item.description_short")&&this.basketItem.variation.data.texts.shortDescription}},(0,s.aH)({isBasketLoading:t=>t.basket.isBasketLoading,isCheckoutReadonly:t=>t.checkout.readOnly,showNetPrice:t=>t.basket.showNetPrices})),methods:{deleteItem(){this.waiting||this.waitingForDelete||this.isBasketLoading||(this.waitingForDelete=!0,this.$store.dispatch("removeBasketItem",this.basketItem.id).then((t=>{document.dispatchEvent(new CustomEvent("afterBasketItemRemoved",{detail:this.basketItem})),this.waitingForDelete=!1}),(t=>{this.waitingForDelete=!1})))},updateQuantity(t){if(this.basketItem.quantity!==t){this.waiting=!0;const e=this.basketItem.quantity;this.$store.dispatch("updateBasketItemQuantity",{id:this.basketItem.id,variationId:this.basketItem.variation.id,quantity:t}).then((t=>{document.dispatchEvent(new CustomEvent("afterBasketItemQuantityUpdated",{detail:this.basketItem})),this.waiting=!1}),(t=>{this.basketItem.quantity=e,this.isPreview?this.$store.dispatch("addBasketNotification",{type:"error",message:o.A.translate("Ceres::Template."+n.A.get(t.data.exceptionCode.toString()),t.data.placeholder)}):h.error(o.A.translate("Ceres::Template."+n.A.get(t.data.exceptionCode.toString()),t.data.placeholder)).closeAfter(5e3),this.waiting=!1}))}},isDataFieldVisible(t){return this.basketDetailsData.includes(t)}}},k=_,y={name:"basket-list",components:{BasketListItem:(0,d.A)(k,r,[],!1,null,null,null).exports},props:{template:{type:String,default:"#vue-basket-list"},basketDetailsData:{type:Array,default:()=>[]},isPreview:{type:Boolean,default:!1}},computed:(0,s.aH)({basketItems:t=>t.basket.items,isBasketInitiallyLoaded:t=>t.basket.isBasketInitiallyLoaded})},f=(0,d.A)(y,i,[],!1,null,null,null).exports},1289:function(t,e,a){a.d(e,{A:function(){return r}}),a(3792),a(2953);var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"d-flex mb-2"},[e("span",{staticClass:"text-muted"},[t._v(t._s(t.quantity)+"x")]),t._v(" "),e("div",{staticClass:"image-container mx-1"},[t.itemImage?e("lazy-img",{attrs:{"picture-class":"d-block mw-100 mh-100","image-url":t.itemImage,alt:t.altText,title:t.itemName}}):t._e()],1),t._v(" "),e("div",[e("a",{staticClass:"item-name text-primary text-appearance font-weight-bold text-break",attrs:{href:t._f("itemURL")(t.variation)}},[t._v("\n            "+t._s(t.itemName)+"\n        ")]),t._v(" "),t._l(t.variation.attributes,(function(a){return e("div",{staticClass:"small"},[e("strong",[t._v(t._s(a.attribute.names.name)+": ")]),t._v(" "),e("span",[t._v(t._s(a.value.names.name))])])})),t._v(" "),e("div",{staticClass:"text-muted small"},[t._l(t.variation.variationProperties,(function(a){return t._l(a.properties,(function(i){return e("div",[a.name?e("strong",[t._v(t._s(a.name)+": ")]):t._e(),t._v(" "),e("span",[t._v(t._s(i.names.name))]),t._v(" "),"file"==i.cast?e("span",[e("a",{attrs:{href:t._f("propertyFileUrl")(i.values.value),target:"_blank"},domProps:{innerHTML:t._s(i.values.value)}})]):e("span",{domProps:{innerHTML:t._s(i.values.value)}})])}))}))],2),t._v(" "),e("order-property-value-list",{attrs:{"basket-item":t.mappedBasketItem}})],2)])};i._withStripped=!0;var s={name:"set-component-item",components:{OrderPropertyValueList:a(8987).A},props:{variation:Object,quantity:Number,orderProperties:Array,rebate:Number},computed:{itemImage(){const t=this.$options.filters.itemImages(this.variation.images,"urlPreview");return this.$options.filters.itemImage(t)},altText(){const t=this.$options.filters.itemImages(this.variation.images,"urlPreview");return this.$options.filters.itemImageAlternativeText(t)||this.itemName},itemName(){return this.$options.filters.itemName(this.variation)},mappedBasketItem(){return{variation:{data:this.variation},basketItemOrderParams:this.orderProperties}}}},r=(0,a(4486).A)(s,i,[],!1,null,null,null).exports},8987:function(t,e,a){a.d(e,{A:function(){return p}});var i=function(){var t=this,e=t._self._c;return t.shownProperties&&t.shownProperties.length?e("div",{staticClass:"small"},[e("div",{staticClass:"font-weight-bold my-1"},[t._v(t._s(t.$translate("Ceres::Template.basketAdditionalCosts"))+":")]),t._v(" "),e("ul",{staticClass:"ml-1 pl-3",attrs:{"data-testing":"order-property-list"}},t._l(t.shownProperties,(function(t){return e("order-property-value-list-item",{key:t.propertyId,attrs:{property:t}})})),1)]):t._e()};i._withStripped=!0,a(4114),a(8940);var s=a(1900),r=function(){var t=this,e=t._self._c;return e("li",[e("span",{staticClass:"d-block"},[e("strong",{class:{colon:t.showColon}},[t._v("\n            "+t._s(t.property.property.names.name)+" \n            "),t.surcharge>0?[t.isAdditionalCost||t.isTaxless?[t._v("\n                    ("+t._s(t.$translate("Ceres::Template.basketPlusAbbr"))+" "+t._s(t._f("currency")(t.surcharge))+")\n                ")]:[t._v("\n                    ("+t._s(t.$translate("Ceres::Template.basketIncludeAbbr"))+" "+t._s(t._f("currency")(t.surcharge))+")\n                ")]]:t._e()],2),t._v(" "),e("span",["file"===t.property.property.valueType?e("span",[e("a",{attrs:{href:t._f("fileUploadPath")(t.property.property.value),target:"_blank"}},[e("i",{staticClass:"fa fa-external-link",attrs:{"aria-hidden":"true"}}),t._v("\n                    "+t._s(t._f("fileName")(t.property.property.value))+"\n                ")])]):"empty"!==t.property.property.valueType?e("span",[t._v(t._s(t.property.property.value))]):t._e()])])])};r._withStripped=!0;var n=a(8579),o={name:"order-property-value-list-item",props:{property:{required:!0,type:Object}},computed:{surcharge(){return this.$options.filters.propertySurcharge([this.property],this.property.propertyId)},isAdditionalCost(){return(0,n.wI)(this.property)},isTaxless(){return!(0,n.ml)(this.property)&&App.useVariationOrderProperties},showColon(){return this.property&&this.property.property.value&&"empty"!==this.property.property.valueType}}},l=a(4486),m={name:"order-property-value-list",components:{OrderPropertyValueListItem:(0,l.A)(o,r,[],!1,null,null,null).exports},props:{basketItem:{required:!0,type:Object}},computed:{shownProperties(){const t=[];return this.basketItem.variation.data.properties.forEach((e=>{const a=this.basketItem.basketItemOrderParams.find((t=>parseInt(t.propertyId)===e.propertyId));(0,s.O9)(a)&&("selection"===a.type?e.property.value=e.property.selectionValues[a.value].name:e.property.value=a.value),((0,s.O9)(a)||this.isPropertyWithAdditionalCosts(e))&&t.push(e)})),t}},methods:{isPropertyWithAdditionalCosts(t){return t.property&&t.property.isShownAtCheckout&&t.property.isShownAsAdditionalCosts&&!t.property.isOderProperty}}},p=(0,l.A)(m,i,[],!1,null,null,null).exports}}]);
//# sourceMappingURL=ceres-35.min.js.map