{"version":3,"sources":["webpack:///./resources/js/src/app/components/item/ItemImageCarousel.vue","webpack:///./resources/js/src/app/components/item/ItemImageCarousel.vue?a015","webpack:///resources/js/src/app/components/item/ItemImageCarousel.vue","webpack:///./resources/js/src/app/components/item/ItemImageCarousel.vue?f260"],"names":["render","_vm","this","_c","_self","showGallery","staticClass","attrs","itemscope","itemtype","id","_uid","showDots","_l","singleImages","image","index","class","active","_e","_v","url","alt","getAltText","width","height","href","role","showThumbs","carouselImages","imagePreview","title","getImageName","src","_withStripped","name","props","maxQuantity","type","default","showNav","animationStyle","inject","itemId","data","imageObserver","computed","currentVariation","watch","handler","deep","mounted","methods","showImages","parentElement","elem","registerElementsForIntersection","$","initCarousel","entries","console","images","getImageCount","altText","imageName","component"],"mappings":"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","file":"chunks/ceres-35.min.js","sourcesContent":["var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _vm.showGallery()\n    ? _c(\n        \"div\",\n        {\n          staticClass: \"text-center\",\n          attrs: { itemscope: \"\", itemtype: \"http://schema.org/Thing\" },\n        },\n        [\n          _c(\n            \"div\",\n            {\n              staticClass: \"carousel slide\",\n              attrs: { id: \"carousel\" + _vm._uid, \"data-interval\": \"false\" },\n            },\n            [\n              _vm.showDots\n                ? _c(\n                    \"ol\",\n                    { staticClass: \"carousel-indicators\" },\n                    _vm._l(_vm.singleImages, function (image, index) {\n                      return _c(\"li\", {\n                        class: { active: index === 0 },\n                        attrs: {\n                          \"data-target\": \"#carousel\" + _vm._uid,\n                          \"data-slide-to\": index,\n                        },\n                      })\n                    }),\n                    0\n                  )\n                : _vm._e(),\n              _vm._v(\" \"),\n              _c(\n                \"div\",\n                { staticClass: \"carousel-inner text-center\" },\n                _vm._l(_vm.singleImages, function (image, index) {\n                  return _c(\n                    \"div\",\n                    {\n                      staticClass: \"carousel-item prop-1-1\",\n                      class: { active: index === 0 },\n                    },\n                    [\n                      index === 0\n                        ? _c(\"img\", {\n                            staticClass: \"position-absolute w-100 h-100\",\n                            attrs: {\n                              \"data-src\": image.url,\n                              alt: _vm.getAltText(image),\n                              width: \"700\",\n                              height: \"700\",\n                            },\n                          })\n                        : _c(\"img\", {\n                            staticClass:\n                              \"position-absolute w-100 h-100 defer-load\",\n                            attrs: {\n                              \"data-src\": image.url,\n                              alt: _vm.getAltText(image),\n                              width: \"700\",\n                              height: \"700\",\n                            },\n                          }),\n                    ]\n                  )\n                }),\n                0\n              ),\n              _vm._v(\" \"),\n              _c(\n                \"a\",\n                {\n                  staticClass: \"carousel-control-prev\",\n                  attrs: {\n                    href: \"#carousel\" + _vm._uid,\n                    role: \"button\",\n                    \"data-slide\": \"prev\",\n                  },\n                },\n                [\n                  _c(\"span\", {\n                    staticClass: \"carousel-control-prev-icon\",\n                    attrs: { \"aria-hidden\": \"true\" },\n                  }),\n                  _vm._v(\" \"),\n                  _c(\"span\", { staticClass: \"sr-only\" }, [_vm._v(\"Previous\")]),\n                ]\n              ),\n              _vm._v(\" \"),\n              _c(\n                \"a\",\n                {\n                  staticClass: \"carousel-control-next\",\n                  attrs: {\n                    href: \"#carousel\" + _vm._uid,\n                    role: \"button\",\n                    \"data-slide\": \"next\",\n                  },\n                },\n                [\n                  _c(\"span\", {\n                    staticClass: \"carousel-control-next-icon\",\n                    attrs: { \"aria-hidden\": \"true\" },\n                  }),\n                  _vm._v(\" \"),\n                  _c(\"span\", { staticClass: \"sr-only\" }, [_vm._v(\"Next\")]),\n                ]\n              ),\n            ]\n          ),\n          _vm._v(\" \"),\n          _vm.showThumbs\n            ? _c(\"div\", { staticClass: \"container carousel-thumbnails\" }, [\n                _c(\n                  \"div\",\n                  { staticClass: \"row row-cols-6\" },\n                  _vm._l(_vm.carouselImages, function (imagePreview, index) {\n                    return _c(\n                      \"a\",\n                      {\n                        staticClass: \"col pt-2\",\n                        attrs: {\n                          href: \"#carousel\" + _vm._uid,\n                          \"data-target\": \"#carousel\" + _vm._uid,\n                          \"data-slide-to\": index,\n                          title: _vm.getImageName(imagePreview),\n                        },\n                      },\n                      [\n                        _c(\"div\", { staticClass: \"prop-1-1\" }, [\n                          _c(\"img\", {\n                            staticClass:\n                              \"position-absolute w-100 h-100 defer-load border bg-white rounded\",\n                            attrs: {\n                              \"data-src\": imagePreview.url,\n                              alt: _vm.getAltText(imagePreview),\n                              width: \"100\",\n                              height: \"100\",\n                            },\n                          }),\n                        ]),\n                      ]\n                    )\n                  }),\n                  0\n                ),\n              ])\n            : _vm._e(),\n        ]\n      )\n    : _c(\"div\", { staticClass: \"prop-1-1\" }, [\n        _c(\"img\", {\n          staticClass: \"position-absolute w-100 h-100\",\n          attrs: {\n            src: _vm.singleImages[0].url,\n            alt: _vm.getAltText(_vm.singleImages[0].url),\n            title: _vm.getImageName(_vm.singleImages[0].url),\n            width: \"700\",\n            height: \"700\",\n          },\n        }),\n      ])\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemImageCarousel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemImageCarousel.vue?vue&type=script&lang=js&\"","<template>\n    <div itemscope itemtype=\"http://schema.org/Thing\" v-if=\"showGallery()\" class=\"text-center\">\n        <div :id=\"'carousel'+_uid\" class=\"carousel slide\" data-interval=\"false\">\n            <ol class=\"carousel-indicators\" v-if=\"showDots\">\n                <li v-for=\"(image, index) in singleImages\" :data-target=\"'#carousel'+_uid\" :data-slide-to=\"index\" :class=\"{ active: index === 0 }\"></li>\n            </ol>\n            <div class=\"carousel-inner text-center\">\n                <div v-for=\"(image, index) in singleImages\" class=\"carousel-item prop-1-1\" :class=\"{ active: index === 0 }\">\n                    <img class=\"position-absolute w-100 h-100\"\n                         :data-src=\"image.url\"\n                         :alt=\"getAltText(image)\"\n                         width=\"700\" height=\"700\" v-if=\"index === 0\">\n                    <img class=\"position-absolute w-100 h-100 defer-load\"\n                         :data-src=\"image.url\"\n                         :alt=\"getAltText(image)\"\n                         width=\"700\" height=\"700\" v-else>\n                </div>\n            </div>\n            <a class=\"carousel-control-prev\" :href=\"'#carousel'+_uid\" role=\"button\" data-slide=\"prev\">\n                <span class=\"carousel-control-prev-icon\" aria-hidden=\"true\"></span>\n                <span class=\"sr-only\">Previous</span>\n            </a>\n            <a class=\"carousel-control-next\" :href=\"'#carousel'+_uid\" role=\"button\" data-slide=\"next\">\n                <span class=\"carousel-control-next-icon\" aria-hidden=\"true\"></span>\n                <span class=\"sr-only\">Next</span>\n            </a>\n        </div>\n\n        <div v-if=\"showThumbs\" class=\"container carousel-thumbnails\">\n            <div class=\"row row-cols-6\">\n                <a v-for=\"(imagePreview, index) in carouselImages\" class=\"col pt-2\" :href=\"'#carousel'+_uid\" :data-target=\"'#carousel'+_uid\" :data-slide-to=\"index\" :title=\"getImageName(imagePreview)\">\n                    <div class=\"prop-1-1\">\n                        <img class=\"position-absolute w-100 h-100 defer-load border bg-white rounded\"\n                             :data-src=\"imagePreview.url\"\n                             :alt=\"getAltText(imagePreview)\"\n                             width=\"100\" height=\"100\">\n                    </div>\n                </a>\n            </div>\n        </div>\n    </div>\n    <div class=\"prop-1-1\" v-else>\n        <img\n            class=\"position-absolute w-100 h-100\"\n            :src=\"singleImages[0].url\"\n            :alt=\"getAltText(singleImages[0].url)\"\n            :title=\"getImageName(singleImages[0].url)\"\n            width=\"700\" height=\"700\"\n        >\n    </div>\n</template>\n\n<script>\n\nexport default {\n    name: \"item-image-carousel\",\n\n    props: {\n        maxQuantity:\n        {\n            type: Number,\n            default: 10\n        },\n        showThumbs:\n        {\n            type: Boolean,\n            default: true\n        },\n        showDots:\n        {\n            type: Boolean,\n            default: true\n        },\n        showNav:\n        {\n            type: Boolean,\n            default: false\n        },\n        animationStyle:\n        {\n            type: String,\n            default: \"standard\"\n        }\n    },\n\n    inject: {\n        itemId: {\n            default: null\n        }\n    },\n\n    data()\n    {\n        return {\n            imageObserver: null\n        }\n    },\n\n    computed:\n    {\n        currentVariation()\n        {\n            return this.$store.getters[`${this.itemId}/currentItemVariation`]\n        },\n\n        carouselImages()\n        {\n            const carouselImages = this.$options.filters.itemImages(\n                this.currentVariation.images,\n                \"url\"\n            ).slice(0, this.maxQuantity);\n\n            carouselImages.forEach((image) => {\n                image.url = image.url.replace(\"https://cdn02.plentymarkets.com/rm2ukznxe8l9/\", \"https://waldorfshop.sirv.com/\") + \"?scale.width=100&scale.height=100\";\n            });\n\n            return carouselImages;\n        },\n\n        singleImages()\n        {\n            const singleImages = this.$options.filters.itemImages(\n                this.currentVariation.images,\n                \"url\"\n            ).slice(0, this.maxQuantity);\n\n            singleImages.forEach((image) => {\n               image.url = image.url.replace(\"https://cdn02.plentymarkets.com/rm2ukznxe8l9/\", \"https://waldorfshop.sirv.com/\") + \"?scale.width=700&scale.height=700\";\n            });\n\n            return singleImages;\n        }\n    },\n\n    watch: {\n        currentVariation:\n            {\n                handler(val, oldVal)\n                {\n                    if (val !== oldVal)\n                    {\n                        this.$nextTick(() => {\n                            this.registerElementsForIntersection();\n                        });\n                    }\n                },\n                deep: true\n            }\n    },\n\n    mounted()\n    {\n        this.$nextTick(() =>\n        {\n            this.initCarousel();\n        });\n    },\n\n    methods:\n    {\n        showImages(parentElement)\n        {\n            parentElement.getElementsByClassName('defer-load').forEach((elem) => {\n                const dataSrcSet = elem.getAttribute(\"data-srcset\");\n                const dataSrc = elem.getAttribute(\"data-src\");\n\n                if (dataSrcSet && dataSrcSet !== elem.srcset) {\n                    elem.srcset = dataSrcSet;\n                }\n                if (dataSrc && dataSrc !== elem.src) {\n                    elem.src = dataSrc;\n                }\n            });\n        },\n\n        registerElementsForIntersection()\n        {\n            if (this.showGallery()) {\n                this.$el.getElementsByClassName('carousel-item active').forEach((elem) => {\n                    this.imageObserver.observe(elem);\n                });\n                this.$el.getElementsByClassName('carousel-thumbnails').forEach((elem) => {\n                    this.imageObserver.observe(elem);\n                });\n\n                $(this.$el).on('slide.bs.carousel', () => {\n                    this.showImages(this.$el);\n                });\n            }\n        },\n\n        initCarousel()\n        {\n            if (\"IntersectionObserver\" in window) {\n                this.imageObserver = new IntersectionObserver((entries, imageObserver) => {\n                    entries.forEach((entry) => {\n                        if(entry.isIntersecting)\n                        {\n                            this.showImages(entry.target);\n                            imageObserver.unobserve(entry.target);\n                        }\n                    });\n                });\n                this.registerElementsForIntersection();\n            }\n            else {\n                if (this.showGallery()) {\n                    console.log(\"Your Browser is too old!\");\n                    const images = this.$el.getElementsByClassName('defer-load');\n                    let i;\n                    for (i = 0; i < x.length; i++) {\n                        images[i].src = images[i].getAttribute(\"data-src\");\n                        images[i].removeAttribute(\"data-src\");\n                    }\n                }\n            }\n            $('#carousel'+this._uid).carousel();\n        },\n\n        getImageCount()\n        {\n            return this.carouselImages.length > this.maxQuantity ? this.maxQuantity : this.carouselImages.length;\n        },\n\n        getAltText(image)\n        {\n            let altText = image && image.alternate ? image.alternate : this.$options.filters.itemName(this.currentVariation);\n            if (this.currentVariation.attributes.length > 0) {\n                altText = altText + ' ' + this.currentVariation.attributes[0].value.names.name\n            }\n            return altText;\n        },\n\n        getImageName(image)\n        {\n            let imageName =  image && image.name ? image.name : this.$options.filters.itemName(this.currentVariation);\n            if (this.currentVariation.attributes.length > 0) {\n                imageName = imageName + ' ' + this.currentVariation.attributes[0].value.names.name\n            }\n            return imageName;\n        },\n\n        showGallery()\n        {\n            return (this.getImageCount() > 1);\n        }\n    }\n}\n</script>\n","import { render, staticRenderFns } from \"./ItemImageCarousel.vue?vue&type=template&id=b55bc82a&\"\nimport script from \"./ItemImageCarousel.vue?vue&type=script&lang=js&\"\nexport * from \"./ItemImageCarousel.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}